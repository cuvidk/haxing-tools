#!/bin/bash

ALIENVAULT_API_KEY=${ALIENVAULT_API_KEY:-ALIENVAULT_API_KEY}
BINARYEDGE_API_KEY=${BINARYEDGE_API_KEY:-BINARYEDGE_API_KEY}
CENSYS_API_KEY=${CENSYS_API_KEY:-CENSYS_API_KEY}
CENSYS_SECRET=${CENSYS_SECRET:-CENSYS_SECRET}
CLOUDFARE_API_KEY=${CLOUDFARE_API_KEY:-CLOUDFARE_API_KEY}
GITHUB_API_KEY=${GITHUB_API_KEY:-GITHUB_API_KEY}
INTELX_API_KEY=${INTELX_API_KEY:-INTELX_API_KEY}
INTELX_HOST=${INTELX_HOST:-INTELX_HOST}
NETWORKSDB_API_KEY=${NETWORKSDB_API_KEY:-NETWORKSDB_API_KEY}
PASSIVETOTAL_API_KEY=${PASSIVETOTAL_API_KEY:-PASSIVETOTAL_API_KEY}
PASSIVETOTAL_USERNAME=${PASSIVETOTAL_USERNAME:-PASSIVETOTAL_USERNAME}
RECONDEV_API_KEY=${RECONDEV_API_KEY:-RECONDEV_API_KEY}
SECURITYTRAILS_API_KEY=${SECURITYTRAILS_API_KEY:-SECURITYTRAILS_API_KEY}
SHODAN_API_KEY=${SHODAN_API_KEY:-SHODAN_API_KEY}
SPYSE_API_KEY=${SPYSE_API_KEY:-SPYSE_API_KEY}
URLSCAN_API_KEY=${URLSCAN_API_KEY:-URLSCAN_API_KEY}
VIRUSTOTAL_API_KEY=${VIRUSTOTAL_API_KEY:-VIRUSTOTAL_API_KEY}
WHOISXMLAPI_API_KEY=${WHOISXMLAPI_API_KEY:-WHOISXMLAPI_API_KEY}
WHOXY_API_KEY=${WHOXY_API_KEY:-WHOXY_API_KEY}
ZOOMEYE_USERNAME=${ZOOMEYE_USERNAME:-ZOOMEYE_USERNAME}
ZOOMEYE_PASSWORD=${ZOOMEYE_PASSWORD:-ZOOMEYE_PASSWORD}

DOCKERFILE_PATH=${DOCKERFILE_PATH:-'./Dockerfile'}
IMAGE_NAME=${IMAGE_NAME:-'hunter'}

echo "################################################"
echo "ALIENVAULT_API_KEY=${ALIENVAULT_API_KEY}"
echo "BINARYEDGE_API_KEY=${BINARYEDGE_API_KEY}"
echo "CENSYS_API_KEY=${CENSYS_API_KEY}"
echo "CENSYS_SECRET=${CENSYS_SECRET}"
echo "CLOUDFARE_API_KEY=${CLOUDFARE_API_KEY}"
echo "GITHUB_API_KEY=${GITHUB_API_KEY}"
echo "INTELX_API_KEY=${INTELX_API_KEY}"
echo "INTELX_HOST=${INTELX_HOST}"
echo "NETWORKSDB_API_KEY=${NETWORKSDB_API_KEY}"
echo "PASSIVETOTAL_API_KEY=${PASSIVETOTAL_API_KEY}"
echo "PASSIVETOTAL_USERNAME=${PASSIVETOTAL_USERNAME}"
echo "RECONDEV_API_KEY=${RECONDEV_API_KEY}"
echo "SECURITYTRAILS_API_KEY=${SECURITYTRAILS_API_KEY}"
echo "SHODAN_API_KEY=${SHODAN_API_KEY}"
echo "SPYSE_API_KEY=${SPYSE_API_KEY}"
echo "URLSCAN_API_KEY=${URLSCAN_API_KEY}"
echo "VIRUSTOTAL_API_KEY=${VIRUSTOTAL_API_KEY}"
echo "WHOISXMLAPI_API_KEY=${WHOISXMLAPI_API_KEY}"
echo "WHOXY_API_KEY=${WHOXY_API_KEY}"
echo "ZOOMEYE_USERNAME=${ZOOMEYE_USERNAME}"
echo "ZOOMEYE_PASSWORD=${ZOOMEYE_PASSWORD}"
echo "DOCKERFILE_PATH=${DOCKERFILE_PATH}"
echo "IMAGE_NAME=${IMAGE_NAME}"
echo "################################################"

docker build \
    --build-arg ALIENVAULT_API_KEY=${ALIENVAULT_API_KEY} \
    --build-arg BINARYEDGE_API_KEY=${BINARYEDGE_API_KEY} \
    --build-arg CENSYS_API_KEY=${CENSYS_API_KEY} \
    --build-arg CENSYS_SECRET=${CENSYS_SECRET} \
    --build-arg CLOUDFARE_API_KEY=${CLOUDFARE_API_KEY} \
    --build-arg GITHUB_API_KEY=${GITHUB_API_KEY} \
    --build-arg INTELX_API_KEY=${INTELX_API_KEY} \
    --build-arg INTELX_HOST=${INTELX_HOST} \
    --build-arg NETWORKSDB_API_KEY=${NETWORKSDB_API_KEY} \
    --build-arg PASSIVETOTAL_API_KEY=${PASSIVETOTAL_API_KEY} \
    --build-arg PASSIVETOTAL_USERNAME=${PASSIVETOTAL_USERNAME} \
    --build-arg RECONDEV_API_KEY=${RECONDEV_API_KEY} \
    --build-arg SECURITYTRAILS_API_KEY=${SECURITYTRAILS_API_KEY} \
    --build-arg SHODAN_API_KEY=${SHODAN_API_KEY} \
    --build-arg SPYSE_API_KEY=${SPYSE_API_KEY} \
    --build-arg URLSCAN_API_KEY=${URLSCAN_API_KEY} \
    --build-arg VIRUSTOTAL_API_KEY=${VIRUSTOTAL_API_KEY} \
    --build-arg WHOISXMLAPI_API_KEY=${WHOISXMLAPI_API_KEY} \
    --build-arg WHOXY_API_KEY=${WHOXY_API_KEY} \
    --build-arg ZOOMEYE_USERNAME=${ZOOMEYE_USERNAME} \
    --build-arg ZOOMEYE_PASSWORD=${ZOOMEYE_PASSWORD} \
    -f "${DOCKERFILE_PATH}" \
    -t "${IMAGE_NAME}" .
